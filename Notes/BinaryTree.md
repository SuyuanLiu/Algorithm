# Binary Tree

Outline
- [Preminary](#èƒŒæ™¯çŸ¥è¯†)
- [DFS](#Binary-Tree-DFS-Traversal)
    - Preorder
    - Divide & Conquer
    - DFS template
    - Examples
- [BFS](#Binary-Tree-BFS-Traversal)
    - BFS template
- [Binary Search Tree](#Binary-Search-Tree)
    - validate, insert, delete
- [Summary](#Summary)



## èƒŒæ™¯çŸ¥è¯†

1. å‰ä¸­ååºéå†  
- å‰åºï¼šæ ¹ å·¦ å³
- ä¸­åºï¼šå·¦ æ ¹ å³
- ååºï¼šå·¦ å³ æ ¹

2. å¹³è¡¡äºŒå‰æ ‘  
å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1.
ä¼˜ç‚¹ï¼šåœ¨è¿™ç§æ ‘ä¸Šåšæ’å…¥åˆ é™¤éå†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ä¼šè¶…è¿‡logn

3. äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰   
å·¦å­æ ‘å€¼ < æ ¹èŠ‚ç‚¹å€¼ < å³å­æ ‘å€¼  
æ ¹æ®ä¸åŒå®šä¹‰ï¼Œå¯èƒ½ä¸€è¾¹ä¼šæœ‰ç­‰å·ã€‚

4. çº¢é»‘æ ‘

5. AVLæ ‘  
balanced BST



## Binary Tree DFS Traversal

### Preorder Traversal

å‰åºéå†æœ‰ä¸‰ç§æ–¹æ³•ï¼š
- éé€’å½’æ–¹æ³•ï¼ˆæ¨èï¼‰
- é€’å½’ï¼šéå†, traverse
- é€’å½’ï¼šåˆ†æ²»æ³•, divide conquer

å‰åºéå†è¿˜æ˜¯ä¸æ¨èç”¨åˆ†æ²»ï¼Œä½†æ˜¯è¦ä½“ä¼šè¿™ä¸ªæ€æƒ³ï¼Œ90%äºŒå‰æ ‘çš„é¢˜ç›®éƒ½ç”¨åˆ°äº†åˆ†æ²»æ³•ï¼›

traverse å¹¶ä¸æ˜¯é€šç”¨çš„ï¼Œåˆ†æ²»æ›´é€šç”¨ï¼›

### åˆ†æ²»æ³•

ç”¨åˆ°åˆ†æ²»æ³•çš„å…¸å‹æ˜¯ï¼šmerge sortï¼Œquick sortï¼ŒäºŒå‰æ ‘ã€‚å…³äºsortéƒ¨åˆ†ï¼Œè¯¦è§[è¿™é‡Œ](./sort.md).

åˆ†æ²»ï¼šåˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼Œdivideï¼ˆåˆ†ï¼‰ï¼Œconquerï¼ˆåˆï¼‰

éå†ä¸åˆ†æ²»çš„åŒºåˆ«ï¼šéå†æŠŠresultä½œä¸ºä¸€ä¸ªå‚æ•°è¿›è¡Œä¼ é€’ï¼Œè€Œåˆ†æ²»åˆ©ç”¨å‡½æ•°æœ¬èº«çš„è¿”å›å€¼ï¼›ä»å¤šçº¿ç¨‹è§’åº¦å»çœ‹ï¼Œéå†æ²¡åŠæ³•è¿›è¡Œå¤šçº¿ç¨‹æ“ä½œï¼Œè€Œåˆ†æ²»å¯ä»¥ï¼Œåˆ†æ²»æ˜¯æŠŠå·¦å³å­æ ‘çš„ç»“æœåˆ†åˆ«ä¿å­˜åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæœ€åå†æŠŠç»“æœæ‹¼æ¥èµ·æ¥ï¼Œå·¦å³å­æ ‘å¯ä»¥å¤šçº¿ç¨‹åŒæ—¶å»å®ç°é€’å½’ï¼Œä¸ä¼šå½±å“æœ€åçš„ç»“æœã€‚

### DFSæ¨¡æ¿

``` python
# traversal
def traversal(root):
     if not root:
          return 

     traversal(root.left)
     traversal(root.right)

# divide and conquer
def dTraversal(root):
     if not root:
          return 

     # divide
     left = dTraversal(root.left)
     right = dTraversal(root.right)

     # conquer
     res = left + right... 
     return res
```

### ä¾‹é¢˜

1. maximum depth of binary tree    TC:O(n)
2. balanced binary tree  
ä»£ç é‡Œé¢å®šä¹‰-1è¡¨ç¤ºä¸å¹³è¡¡ï¼Œåœ¨å®é™…å·¥ç¨‹ä¸­åº”è¯¥å°½é‡é¿å…è¿™ç§ï¼Œæœ€å¥½æ˜¯ç»™å‡½æ•°è¿”å›ä¸¤ä¸ªvalueï¼šdepht, isBalanced.      TC:O(n)

3. binary tree maximum path sum

- sub problemï¼šä»æ ¹èŠ‚ç‚¹å‡ºå‘çš„æœ€å¤§è·¯å¾„
- å¯ä»¥ä»ä»»ä½•èŠ‚ç‚¹å‡ºå‘ï¼Œä»ä»»ä½•èŠ‚ç‚¹ç»“æŸï¼Œè¯´æ˜è¦è‡³å°‘åŒ…å«ä¸€ä¸ªèŠ‚ç‚¹ï¼›
- æœ‰ä¸‰ç§æƒ…å†µï¼Œmaxåœ¨å·¦å­æ ‘ï¼Œmaxåœ¨æŸšå­æ ‘ï¼Œmaxè·¨è¿‡root
- maxpathè‡³å°‘åŒ…å«ä¸€ä¸ªç‚¹ï¼Œsinglepathå¯ä»¥ä¸åŒ…å«ç‚¹
- æ³¨æ„ä¸€èˆ¬rootä¸ºç©ºï¼Œé€€å‡ºé€’å½’ï¼›


4. lowest common ancestorï¼ˆä¸€æ¬¡æŸ¥è¯¢ï¼‰  
- ä¸€ç§é¢˜å‹ï¼Œæ˜¯treenodeæœ‰parentè¿™ä¸ªæŒ‡é’ˆï¼Œå°±æŠŠå½“å‰çš„èŠ‚ç‚¹çš„parentçš„parentè¿™æ ·ä¸€ç›´å­˜ä¸‹æ¥ï¼Œä¸€ç›´åˆ°rootèŠ‚ç‚¹ï¼Œè¿™æ ·å­˜æˆä¸€ä¸ªlistï¼Œå¦ä¸€ä¸ªèŠ‚ç‚¹å‡ºå‘ä¹Ÿå­˜ä¸€ä¸ªlistï¼Œå€’åºéå†è¿™ä¸¤ä¸ªlistï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸€å®šæ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯rootï¼Œæ‰¾åˆ°æœ€åç›¸åŒçš„é‚£ä¸ªå°±æ˜¯LCAã€‚  
- å¦ä¸€ç§ï¼Œæ²¡æœ‰parentæŒ‡é’ˆï¼Œç”¨åˆ†æ²»æ³•ã€‚
åˆ†æ²»æ³•çš„å‡½æ•°è¿”å›å€¼éƒ½æœ‰ä¸€ä¸ªæ„ä¹‰ï¼Œè¿™è¾¹è¿™ä¸ªå‡½æ•°è¿”å›çš„æ˜¯åœ¨rootä¸‹ï¼Œnode1å’Œnode2çš„å…¬å…±ç¥–å…ˆï¼Œå¦‚æœrootè¿™ä¸ªæ ‘é‡ŒåªåŒ…å«ä¸€ä¸ªç‚¹ï¼Œé‚£ä¹ˆå°±è¿”å›è¿™ä¸ªnodeï¼›å¦‚æœéƒ½ä¸åŒ…å«ï¼Œå°±è¿”å›Noneï¼›ï¼ˆleetcodeé«˜ç¥¨ç­”æ¡ˆè¶…çº§èµğŸ‘ï¼‰  
- æˆ–è€…æ˜¯ï¼Œæ‰¾ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°node1ï¼Œnode2çš„è·¯å¾„ï¼Œå­˜ä¸ºä¸¤ä¸ªlistï¼Œæ‰¾åˆ°è¿™ä¸¤ä¸ªlistæœ€åä¸€ä¸ªç›¸åŒçš„å€¼ï¼›ï¼ˆè¿™ä¸ªç¨å¾®éº»çƒ¦ä¸€ç‚¹ï¼‰



## Binary Tree DFS Traversal 

ä¾‹å­ï¼šbinary tree level order traversal(å±‚åºéå†)
ä¸‰ç§æ–¹æ³•ï¼š
- 2 queue
- 1 queue + Dummy Nodeï¼ˆåœ¨æ¯ä¸€å±‚åé¢åŠ å…¥æ¯”å¦‚#ï¼Œè¿™æ ·å°±çŸ¥é“æ¯ä¸€å±‚åœ¨å“ªé‡Œç»“æŸï¼Œå½“popåˆ°#æ—¶ï¼Œä¸ç›´æ¥æ‰”æ‰ï¼ŒæŠŠå®ƒæ”¾åˆ°é˜Ÿåˆ—çš„æœ€åé¢ï¼‰
- 1 queueï¼ˆbestï¼‰ï¼ˆåˆ©ç”¨queueçš„lengthï¼‰

BFSçš„é¢˜å¯ä»¥å¾ˆæ˜æ˜¾çœ‹å‡ºæ¥æ˜¯BFSï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸éš¾ï¼›
BFSæ²¡æœ‰é€’å½’çš„å†™æ³•ï¼›ï¼ˆå¯ä»¥ç†è§£ä¸ºé€’å½’å°±æ˜¯DFSï¼ŒDFSå°±æ˜¯é€’å½’ï¼‰

æ—¶ç©ºå¤æ‚åº¦ï¼šå…³äºäºŒå‰æ ‘çš„ï¼Œå°±æ˜¯åˆ†ææ¯ä¸ªç‚¹è¦æ“ä½œå‡ æ¬¡ï¼Œä¸€å…±æœ‰å‡ ä¸ªç‚¹ï¼›
å…³äºè¿™é¢˜ï¼Œæ¯ä¸ªç‚¹ä¼šè¢«pushè¿›é˜Ÿåˆ—ä¸€æ¬¡ï¼Œä»é˜Ÿåˆ—popä¸€æ¬¡ï¼Œæ˜¯O(1)ï¼Œä¸€å…±nä¸ªç‚¹ï¼Œä¸€å…±æ˜¯O(n)ã€‚
ç©ºé—´å¤æ‚åº¦Oï¼ˆnï¼‰

## Binary Search Tree

1. validate binary search tree(éªŒè¯æ˜¯å¦ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘)
- æŒ‰ç…§å®šä¹‰å»åˆ¤æ–­ï¼Œç”¨åˆ†æ²»æ³•ï¼ˆè¦æ¯”è¾ƒæ‰€æœ‰å·¦å­æ ‘æ˜¯ä¸æ˜¯å°äºrootï¼Œç›´æ¥çœ‹å·¦å­æ ‘çš„æœ€å¤§å€¼ï¼Œè¿”å›å€¼ä¸­è¦åŒ…æ‹¬å·¦å­æ ‘çš„æœ€å¤§å€¼ï¼‰...(è§†é¢‘1.45.11ç§’)
- çœ‹ä¸­åºéå†ï¼Œå¦‚æœä¸­åºéå†æ˜¯å‡åºçš„ï¼Œé‚£ä¹ˆå°±æ˜¯BST

2. search range in binary search tree
- æ–¹æ³•1:ç›´æ¥æŠŠæ‰€æœ‰çš„èŠ‚ç‚¹éå†ä¸€é(O(n))
- æ–¹æ³•2:ä¼˜åŒ–ï¼Œåˆ†æ²»æ³•ï¼ˆ1.47.34ï¼‰
3. implement iterator of Binary Search Tree
- æœ¬è´¨ï¼šéé€’å½’ä¸­åºéå†ï¼ˆ1.52.56ï¼‰
4. remove node in binary tree  
Solution 1:
- æ‰¾åˆ°è¿™ä¸ªç‚¹ï¼›æ‰¾åˆ°å·¦å­æ ‘çš„æœ€å¤§å€¼ï¼Œç”¨è¿™ä¸ªå€¼å»å¡«è¡¥è¿™ä¸ªç‚¹ï¼ˆæˆ–è€…æŸšå­æ ‘çš„æœ€å°å€¼ï¼‰
- å¦‚æœå·¦å­æ ‘æ²¡æœ‰æœ€å¤§å€¼ï¼Œç›´æ¥æŠŠæŸšå­æ ‘æä¸Šå»å³å¯ï¼›å·¦å­æ ‘çš„æœ€å¤§å€¼è¢«æ‹¿èµ°ï¼Œé‚£è¾¹ç©ºæ‰äº†ï¼Œå†ç”¨é‚£ä¸ªç‚¹çš„å·¦å­æ ‘çš„æœ€å¤§å€¼å¡«ä¸Šå»  
Solution 2:
- leetcodeç­”æ¡ˆï¼å¾ˆä¸é”™ï¼
- åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œroot==keyï¼Œ>, < åˆ†åˆ«åšä¸åŒçš„å¤„ç†ã€‚



## Summary

é€’å½’ï¼štraverse ï¼Œ divide and conquer
BFS template
éé€’å½’çš„å‰ä¸­åéå†ï¼ˆè®°ä½ï¼‰
ï¼ˆéé€’å½’çš„å‰ä¸­åéå†ï¼Œmorrisç®—æ³•ï¼Œå°±æ˜¯åœ¨éé€’å½’çš„æ—¶å€™ï¼Œç”¨O(1)çš„é¢å¤–ç©ºé—´ï¼Œè¿™ä¸ªæ˜¯åˆ©ç”¨äº†nodeçš„å³æŒ‡é’ˆï¼Œç”¨å®ŒæŠŠå®ƒèµ‹å€¼ä¸ºç©ºï¼Œå®é™…ä¸Šæ”¹å˜äº†æ ‘çš„ç»“æ„ï¼‰

äºŒå‰æ ‘çš„æ—¶é—´å¤æ‚åº¦åŸºæœ¬éƒ½æ˜¯O(n)





